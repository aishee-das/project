---
title: "Project proposal"
author: "Disco"
output: github_document
---

```{r load-packages, message = FALSE}
library(tidyverse)
library(broom)
library(dsbox)
library(ggridges)
library(readr)
library(here)
library(scales)
```


```{r data}
video_game_sales <-
read_csv(here::here("data/Video_Games_Sales_as_at_22_Dec_2016.csv"))
View(video_game_sales)
```

## 1. Introduction

Our question is:
what factor influences the sales of a video game the most. 

Data is collected from https://www.kaggle.com/rush4ratio/video-game-sales-with-ratings 

(This dataset contains a list of video games with sales greater than 100,000 copies.)

## 2. Data
```{r data-glimpse}
video_game_sales <- read_csv(here::here("data/Video_Games_Sales_as_at_22_Dec_2016.csv"))
glimpse(video_game_sales)
```

## 3. Data analysis plan

We will look at the different relationships between the sales (global and specific) of a game and different factors in its release and success. All sorts of different plots (e.g. line plot, density plot, bar plot etc.) and data analysis methods (mean, median and mode) will be used to discuss this and visualize this in our different individual ways.

It will follow the ensuing format:

### First Data

#### A line graph showing the relationship between genre of game and TOTAL global sales over the years

#### code and plotting. a single line graph with top 5 genres and seperate faceted graphs

```{r top-of-category}
top_genre <- video_game_sales%>%
  group_by(Genre)%>%
  summarise(global = sum(Global_Sales))%>%
  slice_max(global, n = 5)
  
top_genre_list <<- top_genre$Genre

top_platform <- video_game_sales%>%
  group_by(Platform)%>%
  summarise(global = sum(Global_Sales))%>%
  slice_max(global, n = 10)
  
top_platform_list <<- top_platform$Platform
```

```{r }
genre_sales_yrs <- video_game_sales%>%
  group_by(Year_of_Release, Genre)%>%
  filter(!Year_of_Release == "N/A") %>%
  filter(!is.na(Genre)) %>%
  summarise(Year_of_Release, Genre, Global_Sales = sum(Global_Sales))%>%
  group_by(Genre)%>%
  filter(Genre %in% top_genre_list) %>%
  distinct()

genre_sales_yrs%>%
  ggplot(aes(x = Year_of_Release, y = Global_Sales, color = Genre, group = Genre)) +
  theme(axis.text.x = element_text(angle = 45, size = 6)) +
  geom_line()
```

### Second Data

#### A facet graph of mean sale for different area against (top 10) platform(x = platform, y = mean sale) by bar plot or histogram plot

#### code and plotting.

```{r Mean_sale_vs_platform}
video_game_sales %>%
  group_by(Platform) %>%
  summarise(mean_NA = mean(NA_Sales), mean_EU = mean(EU_Sales), mean_JP = mean(JP_Sales), mean_Other = mean(Other_Sales), mean_Global = mean(Global_Sales))%>%
  group_by(Platform)%>%
  filter(Platform %in% top_platform_list) %>%
  
  ggplot(aes(x=Platform))+
  geom_point(aes(y=mean_Global, colour = "Global"))+
  geom_point(aes(y=mean_NA, colour = "North America"))+
  geom_point(aes(y=mean_JP, colour = "Japan"))+
  geom_point(aes(y=mean_EU, colour = "Europe"))+
  geom_point(aes(y=mean_Other, colour = "Other"))
```

### Third Data

#### A point gragh presenting the relationship between the pubisher and the mean japan's sales, which are the  top five ones. (x = Publisher, y = mean_JP_Sales).

#### code and plotting

```{r }
video_game_sales %>%
  group_by(Publisher) %>%
  summarise(mean_JP_Sales = mean(JP_Sales)) %>%
  arrange(desc(mean_JP_Sales)) %>%
  slice(1:5) %>%
  ggplot(aes(x = Publisher, y = mean_JP_Sales)) +
  geom_point() +
  labs(title = "The five most popular Publishers in Japan",
       x = "Publisher", y = "mean_JP_Sales"
       ) +
  theme_minimal() 

```

### Fourth Data

#### A comparison graph of critic score and global sales (x variable = critic score, y variable = global sales) and how they relate to each other using a line graph.

#### code and plotting

```{r }


```

### Fifth Data

#### A scatter graph comparing the user count and user score alongside the same of comparing the critic count and critic score. Colour coded by global sales amount

#### code and plotting

```{r }


```

### Sixth Data

#### A ridge-plot graph comparing the distribution of high selling games (games with over XXX global sales) over the years for different publishers/developers

#### code and plotting

```{r }
video_game_sales %>%
  

```


### Seventh data

#### A list of mean global sales per genre, with box plot to show clearly the spread for each genre

#### code and plotting

```{r }


```


### Eigth data

#### A comparison of global sales for games that were released in america against those that were not (simple 2 varaible bar graph with stacked year of release)

#### code and plotting

```{r }


```


### etc...


### Comparison of all different data and analogies

### Written summary of what factor is mostly tied with global sales with visual proofs (plots)
